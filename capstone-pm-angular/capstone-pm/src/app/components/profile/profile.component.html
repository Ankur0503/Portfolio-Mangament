<div class="container">
  <h2 class="text-center mb-4">Update Profile</h2>
  <form [formGroup]="profileForm" (ngSubmit)="onSave()" class="animated-form">
      <div class="form-group">
          <label for="userName">Username</label>
          <input 
            type="text" 
            id="userName" 
            class="form-control" 
            formControlName="userName"
            [readonly]="!isEditing" 
            placeholder="Enter your username" />
          <div *ngIf="profileForm.get('userName')?.touched && profileForm.get('userName')?.invalid">
              <small *ngIf="profileForm.get('userName')?.errors?.['required']" class="text-danger">
                  Username is required.
              </small>
          </div>
      </div>

      <div class="form-group">
          <label for="userPassword">Password</label>
          <input 
            type="password" 
            id="userPassword" 
            class="form-control" 
            formControlName="userPassword" 
            [readonly]="!isEditing"
            placeholder="Enter your password" />
          
          <!-- Validation messages -->
          <div *ngIf="profileForm.get('userPassword')?.touched && profileForm.get('userPassword')?.invalid">
              <small *ngIf="profileForm.get('userPassword')?.errors?.['required']" class="text-danger">
                  Password is required.
              </small>
              <small *ngIf="profileForm.get('userPassword')?.errors?.['incorrectPasswordFormat']" class="text-danger">
                  {{ profileForm.get('userPassword')?.errors?.['incorrectPasswordFormat']?.msg }}
              </small>
          </div>
      </div>

      <div class="form-group">
          <label for="userPhone">Phone Number</label>
          <input 
            type="tel" 
            id="userPhone" 
            class="form-control" 
            formControlName="userPhone" 
            [readonly]="!isEditing" 
            placeholder="Enter your phone number" />
          <div *ngIf="profileForm.get('userPhone')?.touched && profileForm.get('userPhone')?.invalid">
              <small *ngIf="profileForm.get('userPhone')?.errors?.['required']" class="text-danger">
                  Phone number is required.
              </small>
          </div>
      </div>

      <div class="button-wrapper">
          <button 
            *ngIf="!isEditing" 
            type="button" 
            class="btn btn-animated btn-block" 
            (click)="onEdit()">Edit</button>

          <button 
            *ngIf="isEditing" 
            type="submit" 
            class="btn btn-animated btn-block btn-spaced">Save</button>
            
          <button 
            *ngIf="isEditing" 
            type="button" 
            class="btn btn-animated btn-block btn-spaced" 
            (click)="onCancel()">Cancel</button>
      </div>
  </form>
</div>
